<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Big Creek Trail Status</title>
</head>
<body>

<form>
    <H1>Generate New Status Verbiage</H1>
    <H2>Big Creek</H2>
    <li>
        Cross Country
        <input type="radio" id="cross_country_o" name="cross_country" checked="checked" value="O">
        <label for="cross_country_o">Open</label>
        <input type="radio" id="cross_country_c" name="cross_country" value="C">
        <label for="cross_country_c">Closed</label>
    </li>
    <li>
        Freeride
        <input type="radio" id="freeride_o" name="freeride" checked="checked" value="O">
        <label for="freeride_o">Open</label>
        <input type="radio" id="freeride_c" name="freeride" value="C">
        <label for="freeride_c">Closed</label>
    </li>
    <H2>Other Trail Systems</H2>
    <li>TODO</li>
    <br>
    <input type="button" value="Generate Trail Status Verbiage">
    <br>
    <br>
    <label for="verbiage">Generated Status Text (manually copy/paste this to Twitter)</label><br>
    <textarea id="verbiage" rows="13" cols="50">
    </textarea>
</form>

<H1>Last two Tweets:</H1>
<!--https://developer.twitter.com/en/docs/twitter-for-websites/timelines/overview-->
<a class="twitter-timeline" data-tweet-limit="2" data-width="400" href="https://twitter.com/rambomtbstatus?ref_src=twsrc%5Etfw">Tweets by rambomtbstatus</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
    function formatStatusValue(value) {
        if (value=='O') {
            return "\u2705"
        } else {
            return "\u274C"
        }
    }

    function formatLine(label, value) {
        return " "+label+": "+formatStatusValue(value) + "\n";
    }

    function getFormattedDate(dateTime) {
        return dateTime.toLocaleString('en-US', { weekday: 'short', month: 'numeric', day: 'numeric' });
        //return dateTime.toLocaleString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
    }

    function getFormattedTime(dateTime) {
        return dateTime.toLocaleTimeString('en-US', { hour: "2-digit", minute: "2-digit" });
    }

    function getIntroVerbiage() {
        var currentDateTime = new Date();
        // for testing different date/times:
        // currentDateTime = new Date('June 1, 2023 23:24:15');
        return "Trail status as of " + getFormattedDate(currentDateTime)
                + " at " + getFormattedTime(currentDateTime) + ":\n";
    }


    $(document).ready(function(){
        $("input[type='button']").click(function(){
            var cross_country = $("input[name='cross_country']:checked").val();
            var freeride = $("input[name='freeride']:checked").val();


            var verbiage = ""
            verbiage += getIntroVerbiage();
            verbiage += "\n";
            verbiage += "Big Creek\n";
            verbiage += formatLine("Cross Country", cross_country);
            verbiage += formatLine("Freeride", freeride);

            // set text area
            $("#verbiage").val(verbiage);

        });

    });
    </script>

</body>
</html>