<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Big Creek Trail Status</title>
</head>
<body>

<form>
    Big Creek
    <input type="button" id="open_big_creek" value="Open">
    <input type="button" id="close_big_creek" value="Close">
    <li>
        Cross Country
        <input type="radio" id="cross_country_o" name="cross_country" checked="checked" value="O">
        <label for="cross_country_o">Open</label>
        <input type="radio" id="cross_country_c" name="cross_country" value="C">
        <label for="cross_country_c">Closed</label>
    </li>
    <li>
        Freeride
        <input type="radio" id="freeride_o" name="freeride" checked="checked" value="O">
        <label for="freeride_o">Open</label>
        <input type="radio" id="freeride_c" name="freeride" value="C">
        <label for="freeride_c">Closed</label>
    </li>
    <li>
        Pump tracks
        <input type="radio" id="pump_tracks_o" name="pump_tracks" checked="checked" value="O">
        <label for="pump_tracks_o">Open</label>
        <input type="radio" id="pump_tracks_c" name="pump_tracks" value="C">
        <label for="pump_tracks_c">Closed</label>
    </li>

    Other Trail Systems
    <input type="button" id="open_other" value="Open">
    <input type="button" id="close_other" value="Close">
    <li>
        Charleston Park
        <input type="radio" id="charleston_o" name="charleston" checked="checked" value="O">
        <label for="charleston_o">Open</label>
        <input type="radio" id="charleston_c" name="charleston" value="C">
        <label for="charleston_c">Closed</label>
    </li>
    <li>
        Haw Creek
        <input type="radio" id="haw_creek_o" name="haw_creek" checked="checked" value="O">
        <label for="haw_creek_o">Open</label>
        <input type="radio" id="haw_creek_c" name="haw_creek" value="C">
        <label for="haw_creek_c">Closed</label>
    </li>
    <li>
        Matt Park
        <input type="radio" id="matt_park_o" name="matt_park" checked="checked" value="O">
        <label for="matt_park_o">Open</label>
        <input type="radio" id="matt_park_c" name="matt_park" value="C">
        <label for="matt_park_c">Closed</label>
    </li>
    <li>
        Mt. Adams
        <input type="radio" id="mt_adams_o" name="mt_adams" checked="checked" value="O">
        <label for="mt_adams_o">Open</label>
        <input type="radio" id="mt_adams_c" name="mt_adams" value="C">
        <label for="mt_adams_c">Closed</label>
    </li>
    <br>
    <input type="button" id="generate" value="Generate Trail Status Verbiage">
    <br>
    <br>
    <label for="verbiage">Generated Status Text (manually copy/paste this to Twitter)</label><br>
    <textarea id="verbiage" rows="15" cols="50">
    </textarea>
</form>

<H1>Last two Tweets:</H1>
<!--https://developer.twitter.com/en/docs/twitter-for-websites/timelines/overview-->
<a class="twitter-timeline" data-tweet-limit="2" data-width="400" href="https://twitter.com/rambomtbstatus?ref_src=twsrc%5Etfw">Tweets by rambomtbstatus</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
    function formatStatusValue(value) {
        if (value=='O') {
            return "\u2705"
        } else {
            return "\u274C"
        }
    }

    function formatLine(label, value) {
        return " "+label+": "+formatStatusValue(value) + "\n";
    }

    function getFormattedDate(dateTime) {
        return dateTime.toLocaleString('en-US', { weekday: 'short', month: 'numeric', day: 'numeric' });
    }

    function getFormattedTime(dateTime) {
        return dateTime.toLocaleTimeString('en-US', { hour: "2-digit", minute: "2-digit" });
    }

    function getIntroVerbiage() {
        var currentDateTime = new Date();
        // for testing different date/times:
        // currentDateTime = new Date('June 1, 2023 23:24:15');
        return "Trail status as of " + getFormattedDate(currentDateTime)
                + " at " + getFormattedTime(currentDateTime) + ":\n";
    }


    $(document).ready(function(){

        $("#open_big_creek").click(function(){
            $("#cross_country_o").prop("checked", true);
            $("#freeride_o").prop("checked", true);
            $("#pump_tracks_o").prop("checked", true);
        });

        $("#close_big_creek").click(function(){
            $("#cross_country_c").prop("checked", true);
            $("#freeride_c").prop("checked", true);
            $("#pump_tracks_c").prop("checked", true);
        });

        $("#open_other").click(function(){
            $("#charleston_o").prop("checked", true);
            $("#haw_creek_o").prop("checked", true);
            $("#matt_park_o").prop("checked", true);
            $("#mt_adams_o").prop("checked", true);
        });

        $("#close_other").click(function(){
            $("#charleston_c").prop("checked", true);
            $("#haw_creek_c").prop("checked", true);
            $("#matt_park_c").prop("checked", true);
            $("#mt_adams_c").prop("checked", true);
        });

        //$("input[type='button']").click(function(){
        $("#generate").click(function(){
            var cross_country = $("input[name='cross_country']:checked").val();
            var freeride = $("input[name='freeride']:checked").val();
            var pump_tracks = $("input[name='pump_tracks']:checked").val();
            var charleston = $("input[name='charleston']:checked").val();
            var haw_creek = $("input[name='haw_creek']:checked").val();
            var matt_park = $("input[name='matt_park']:checked").val();
            var mt_adams = $("input[name='mt_adams']:checked").val();

            var verbiage = ""
            verbiage += getIntroVerbiage();
            verbiage += "\n";
            verbiage += "Big Creek\n";
            verbiage += formatLine("Cross Country", cross_country);
            verbiage += formatLine("Freeride", freeride);
            verbiage += formatLine("Pump Tracks", pump_tracks);
            verbiage += "\n";
            verbiage += "Other Trail Systems\n";
            verbiage += formatLine("Charleston Park", charleston);
            verbiage += formatLine("Haw Creek", haw_creek);
            verbiage += formatLine("Matt Park", matt_park);
            verbiage += formatLine("Mt. Adams", mt_adams);

            // set text area
            $("#verbiage").val(verbiage);

        });

    });
    </script>

</body>
</html>